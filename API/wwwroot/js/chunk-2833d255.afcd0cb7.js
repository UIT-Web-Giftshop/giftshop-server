(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2833d255"],{"0e8f":function(t,e,n){"use strict";n("20f6");var r=n("e8f2");e["a"]=Object(r["a"])("flex")},a722:function(t,e,n){"use strict";n("20f6");var r=n("e8f2");e["a"]=Object(r["a"])("layout")},b5fe:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{attrs:{"justify-center":""}},[n("v-flex",{attrs:{md8:"",xs10:""}},[n("v-layout",{attrs:{column:""}},[n("v-layout",{attrs:{column:"","ma-0":"","ml-2":"","mb-2":"","mt-8":""}},[n("span",{staticClass:"text-h6 text-uppercase"},[t._v("Danh sách sản phẩm")]),t._l(t.getProductCart,(function(e,r){return n("v-layout",{key:r,attrs:{row:"",wrap:"","my-4":"","ml-8":"","mr-0":"","justify-space-between":"","align-center":""}},[n("v-flex",{attrs:{md3:"",sm4:"",xs3:""}},[n("v-layout",{attrs:{column:"","no-gutters":""}},[n("v-img",{attrs:{height:"160","max-width":"160","min-width":"160",src:e.imageUrl}})],1)],1),n("v-flex",{attrs:{md2:"",xs4:"",sm3:"","align-self-center":""}},[n("v-layout",{attrs:{"justify-space-between":"","align-center":"","max-width":"150"}},[n("div",{staticClass:"font-weight-bold d-inline",attrs:{"px-4":""}},[t._v(" "+t._s(e.quantity)+" ")])])],1),n("v-flex",{attrs:{md6:"",xs12:"",sm12:"",column:""}},[n("v-layout",{attrs:{"justify-start":"","my-1":"",wrap:""}},[n("p",{staticClass:"text-h6 text-capitalize",attrs:{width:"100%"}},[t._v(" "+t._s(t.sliceFunction(e.name,10))+" ")])]),n("v-layout",{attrs:{"my-1":"","justify-space-between":"","align-center":""}},[n("span",[t._v("SKU")]),n("span",[t._v(t._s(e.sku))])]),n("v-layout",{attrs:{"my-1":"","justify-space-between":"","align-center":""}},[n("span",[t._v("Giá")]),n("span",[t._v(t._s(t.toMoney(e.price,1)))])]),n("v-layout",{attrs:{"my-1":"","justify-space-between":"","align-center":""}},[n("span",{staticClass:"font-weight-bold"},[t._v("Tổng")]),n("span",[t._v(t._s(t.toMoney(e.price,e.quantity)))])])],1)],1)}))],2),n("v-divider"),n("v-layout",{attrs:{column:"","ma-0":"","ml-2":"","my-4":""}},[n("span",{staticClass:"text-h6 text-uppercase"},[t._v("Thông tin vận chuyển")]),n("v-layout",{attrs:{column:"","my-4":"","ml-8":"","mr-0":""}},[n("v-layout",{attrs:{wrap:"","my-1":"","justify-space-between":"","align-center":""}},[n("v-flex",{attrs:{md5:"",sm5:"",xs5:""}},[n("v-select",{attrs:{items:t.provincesAPI,label:"Tỉnh/Thành phố","item-text":"name","return-object":"","hide-details":""},model:{value:t.currentProvince,callback:function(e){t.currentProvince=e},expression:"currentProvince"}})],1),n("v-flex",{attrs:{md5:"",sm5:"",xs5:""}},[n("v-select",{attrs:{label:"Huyện/Quận",items:t.districtsAPI,"item-text":"name","return-object":"","hide-details":""},model:{value:t.currentDistrict,callback:function(e){t.currentDistrict=e},expression:"currentDistrict"}})],1),n("v-flex",{attrs:{md5:"",sm5:"",xs5:""}},[n("v-select",{attrs:{label:"Xã/Phường",items:t.wardsAPI,"item-text":"name","return-object":"","hide-details":""},model:{value:t.currentWard,callback:function(e){t.currentWard=e},expression:"currentWard"}})],1),n("v-flex",{attrs:{md5:"",sm5:"",xs5:""}},[n("v-text-field",{attrs:{label:"Số nhà, đường",rules:t.rules,hint:"72, đường Thác Bà"},model:{value:t.currentStreet,callback:function(e){t.currentStreet=e},expression:"currentStreet"}})],1),n("v-flex",{attrs:{md5:"",sm5:"",xs5:""}},[n("v-text-field",{attrs:{label:"Mã giảm giá",rules:t.couponRule},model:{value:t.currentCoupon,callback:function(e){t.currentCoupon=e},expression:"currentCoupon"}})],1)],1)],1)],1),n("v-divider"),n("v-layout",{attrs:{"mt-4":"","ml-2":""}},[n("v-row",{attrs:{"no-gutters":"",wrap:"",align:"center",justify:"space-between"}},[n("v-col",{attrs:{md:"4",sm:"12"}},[n("v-layout",{attrs:{"justify-space-between":"","align-center":""}},[n("span",{staticClass:"text-h5 font-weight-bold"},[t._v("Tổng tiền")]),n("span",{staticClass:"text-h5 font-weight-bold"},[t._v(t._s(t.computeTotalBill))])])],1),n("v-col",{attrs:{md:"2",sm:"5"}},[n("v-btn",{staticClass:"info",attrs:{width:"100%"},on:{click:t.handleConfirm}},[t._v("Xác nhận")])],1)],1)],1)],1)],1)],1)},a=[],s=n("5530"),c=n("c7eb"),i=n("1da1"),o=(n("99af"),n("b0c0"),n("ac1f"),n("1276"),n("fb6a"),n("a15b"),n("bc3a")),u=n.n(o),l=n("4d4c"),d=n("c858"),m=n("2f62"),p={data:function(){return{text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.",chooseItem:[],rules:[function(t){return!!t||"Trường yêu cầu."},function(t){return t&&t.length>=3||"Ít nhất 3 ký tự"}],couponRule:[Object(i["a"])(Object(c["a"])().mark((function t(){return Object(c["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log("di");case 1:case"end":return t.stop()}}),t)})))],items:["Foo","Bar","Fizz","Buzz"],provincesAPI:null,districtsAPI:null,wardsAPI:null,currentProvince:null,currentDistrict:null,currentWard:null,currentStreet:"",currentCoupon:"",isValidCoupon:!1}},computed:Object(s["a"])(Object(s["a"])({},Object(m["c"])({getProductCart:"cart/getProductCart",computeTotalBill:"cart/computeTotalBill"})),{},{getFullAddress:function(){return"".concat(this.currentStreet,", ").concat(this.currentWard.name,", ").concat(this.currentDistrict.name,", ").concat(this.currentProvince.name)}}),methods:Object(s["a"])(Object(s["a"])({},Object(m["b"])({getProductsFromCartServer:"cart/getProductsFromCartServer"})),{},{toMoney:function(t,e){return new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(t*e)},sliceFunction:function(t,e){if(!t)return t;var n,r=t.split(" ");if(r.length>e){var a=r.slice(0,e);n=a.join(" "),n+="..."}else n=t;return n},getProvince:function(){var t=Object(i["a"])(Object(c["a"])().mark((function t(){var e;return Object(c["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.a.get("https://provinces.open-api.vn/api/?depth=3");case 3:e=t.sent,this.provincesAPI=e.data,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}(),handleConfirm:function(){var t=Object(i["a"])(Object(c["a"])().mark((function t(){var e,n,r;return Object(c["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""===this.currentCoupon){t.next=13;break}return t.next=3,l["a"].get("/coupons/info/"+this.currentCoupon);case 3:if(e=t.sent,console.log(e),200!==e.status){t.next=9;break}this.isValidCoupon=!0,t.next=13;break;case 9:return d["a"].warning("Mã giảm giá không hợp lệ"),this.currentCoupon="",this.isValidCoupon=!1,t.abrupt("return");case 13:if(!(this.currentStreet&&this.currentWard&&this.currentDistrict&&this.currentProvince)){t.next=21;break}return n=this.isValidCoupon?{couponCode:this.currentCoupon,address:this.getFullAddress}:{couponCode:"",address:this.getFullAddress},console.log(n),t.next=18,l["a"].post("/orders",n);case 18:r=t.sent,console.log(r),200===r.status?d["a"].success("Đặt hàng thành công"):d["a"].warning("Lỗi");case 21:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}),watch:{currentProvince:function(t){console.log(this.currentProvince),this.districtsAPI=t.districts},currentDistrict:function(t){this.wardsAPI=t.wards}},created:function(){this.getProvince(),this.getProductsFromCartServer()}},v=p,h=n("2877"),f=n("6544"),b=n.n(f),g=n("8336"),x=n("62ad"),y=n("ce7e"),w=n("0e8f"),j=n("adda"),C=n("a722"),P=n("0fd9"),_=n("b974"),k=n("8654"),O=Object(h["a"])(v,r,a,!1,null,"7566dd09",null);e["default"]=O.exports;b()(O,{VBtn:g["a"],VCol:x["a"],VDivider:y["a"],VFlex:w["a"],VImg:j["a"],VLayout:C["a"],VRow:P["a"],VSelect:_["a"],VTextField:k["a"]})}}]);
//# sourceMappingURL=chunk-2833d255.afcd0cb7.js.map